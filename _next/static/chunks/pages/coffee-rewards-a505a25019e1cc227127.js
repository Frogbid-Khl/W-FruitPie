(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[313],{30711:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(80318),s=r(67294),a=r(14510),i=r(85893);function l(e){var t=e.className;return(0,i.jsx)("div",{className:"".concat(t," grid grid-cols-3 text-[13px] lg:text-sm whitespace-nowrap w-max"),children:a.Z.dates.map((function(e,t){var r=(0,n.Z)(e,2),a=r[0],l=r[1];return(0,i.jsxs)(s.Fragment,{children:[(0,i.jsx)("div",{className:"font-medium mb-1 pr-2",children:a}),(0,i.jsx)("div",{className:"col-span-2",children:l})]},t)}))})}},14749:function(e,t,r){"use strict";r.d(t,{Z:function(){return m}});var n=r(30266),s=r(809),a=r.n(s),i=r(67294),l=r(83410),o=r(9981);function c(e){return d.apply(this,arguments)}function d(){return(d=(0,n.Z)(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/subscribeEmail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})});case 3:return r=e.sent,e.abrupt("return",r.json());case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var u=r(85893);function m(e){var t=e.title,r=e.text,s=(0,i.useState)(!1),d=s[0],m=s[1],f=(0,i.useState)(""),x=f[0],p=f[1],h=(0,i.useState)(""),b=h[0],g=h[1],j=(0,i.useState)(!1),w=j[0],y=j[1],v=(0,i.useCallback)((0,n.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.next=3,c(b);case 3:(t=e.sent).ok?(g(""),m(!0),y(!1)):(p(t.errorMessage),y(!1));case 5:case"end":return e.stop()}}),e)}))),[b]),N=(0,i.useCallback)((function(e){g(e.target.value)}),[]);return(0,u.jsxs)("article",{className:"flex flex-col items-center xl:grid xl:grid-cols-2 bg-white px-5 md:px-10 pt-5 pb-10 md:py-12 rounded-lg gap-x-5 text-center md:text-left",children:[(0,u.jsx)("h3",{className:"max-w-full w-max text-5xl md:text-4xl font-bold mb-4 leading-none px-5 md:px-0",children:t}),(0,u.jsx)("div",{className:"row-start-2 mb-6 xl:mb-0 px-5 lg:px-0 text-center xl:text-left",children:r}),(0,u.jsx)("div",{className:"row-start-2 flex flex-col md:flex-row justify-end items-center  xl:-translate-y-2/4",children:d?(0,u.jsx)("p",{children:"You are all set, we will send an email to remind you."}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"mr-0 md:mr-4 w-80 md:w-96 max-w-full mb-5 md:mb-0\t",children:[(0,u.jsx)(l.Z,{name:"email",label:"Email Address",value:b,onChange:N}),x?(0,u.jsx)("p",{className:"text-red font-medium",children:x}):(0,u.jsx)(u.Fragment,{})]}),(0,u.jsx)(o.Z,{className:"text-white w-1/2 md:w-1/4 disabled:opacity-60",onClick:v,disabled:w,children:"Submit"})]})})]})}},56861:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(25675),s=r(85893);function a(e){var t=e.text;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-72 mx-auto",children:(0,s.jsx)(n.default,{src:"/loader.gif",width:"268",height:"149",alt:"yummy breakfast"})}),t?(0,s.jsx)("p",{className:"text-center font-semibold text-lg",children:t}):(0,s.jsx)(s.Fragment,{})]})}},71951:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return ee}});var n=r(92809),s=r(25675),a=r(9981),i=r(73113),l=r(83078),o=r(30266),c=r(809),d=r.n(c),u=r(56861),m=r(95258),f=r(83789),x=r(67294);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e){var t=(0,x.useState)(-1),r=t[0],s=t[1],a=(0,x.useState)({}),i=a[0],c=a[1],u=(0,x.useState)(-1),m=u[0],p=u[1],b=(0,x.useState)(!1),g=b[0],j=b[1],w=(0,l.X2)("getDbTokens",{ownerAddress:e,blend:"3"}),y=w.data,v=w.isLoading,N=w.fetch,k=(0,l.X2)("getOrders",{ownerAddress:e}),O=k.data,Z=k.isLoading,P=k.fetch;return(0,x.useEffect)((function(){y&&s(y.length)}),[y]),(0,x.useEffect)((function(){if(O){var e=O.reduce((function(e,t){""===t.address&&j(!0);var r=t.blend;return r in e||(e[r]=[]),h(h({},e),{},(0,n.Z)({},r,[].concat((0,f.Z)(e[r]),[t])))}),{}),t=O.reduce((function(e,t){return"3"==t.blend?e+ +t.quantity:e}),0);p(t),c(e)}}),[O]),{numOfTokens:r,orders:i,claimedTokens:m,fetch:(0,x.useCallback)((0,o.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:return e.next=4,N();case 4:case"end":return e.stop()}}),e)}))),[P,N]),loading:v||Z,error:g}}var g=r(81575),j=["","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],w=["","","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"];function y(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e<0)throw new Error("Negative numbers are not supported.");var r=v(e);return t?(0,g.Z)(r):r}function v(e){if(0===e)return"zero";if(e<20)return j[e];var t=e.toString();return w[t[0]]+" "+j[t[1]]}var N=r(68867),k=r(14510),O=r(85893);function Z(e){var t,r=e.className,n=e.width,s=e.height,a=e.blend||"3";return console.log(a),t=1==a?"bg-coral":t,t=2==a?"bg-green":t,t=3==a?"bg-teal":t,(0,O.jsx)("div",{className:"".concat(t," rounded-lg py-4 ").concat(r),children:(0,O.jsx)("div",{className:"flex justify-end",children:(0,O.jsx)(N.Z,{src:k.Z.images[a],width:n,height:s,alt:"coffee blend"})})})}function P(e){var t=e.orders,r=e.error,n=e.claimedTokens;return 0===Object.keys(t).length?(0,O.jsx)(O.Fragment,{}):(0,O.jsxs)("div",{children:[(0,O.jsx)("h2",{className:"font-bold text-5xl md:text-7xl mb-11",children:"Previously Claimed"}),Object.keys(t).map((function(e){return(0,O.jsxs)("article",{className:"flex flex-wrap bg-white p-5 pb-10 md:p-10 rounded-lg mb-7 last:mb-0",children:[(0,O.jsx)(Z,{className:"self-start md:mr-10 w-full md:w-auto mb-8 md:mb-0",width:200,height:200,blend:e}),(0,O.jsxs)("div",{className:"flex-1",children:[(0,O.jsxs)("h3",{className:"text-3xl mb-2 md:mb-5 font-medium",children:["Blend ",y(e)]}),r?(0,O.jsxs)("p",{children:["You claimed ",n," bags of coffee, but there was a problem retrieving this information. Please try again later."]}):(0,O.jsxs)("div",{className:"grid grid-flow-col md:grid-flow-row grid-cols-previously-claimed md:grid-cols-previously-claimed-md gap-x-4 md:gap-x-7 md:gap-y-6",children:[["Quantity","Address","Order ID","Status"].map((function(e,t){return(0,O.jsx)("p",{className:"text-sm opacity-50 hidden md:block",children:e},t)})),t[e].map((function(e,t){var r=e.quantity,n=e.address,s=e.orderNumber,a=e.status,i=e.trackingNumbers;return(0,O.jsxs)(x.Fragment,{children:[["Quantity","Address","Order ID","Status"].map((function(e,t){return(0,O.jsx)("p",{className:"text-sm opacity-50 col-start-1 md:hidden",children:e},t)})),(0,O.jsx)("p",{children:r}),(0,O.jsx)("p",{children:n}),(0,O.jsx)("p",{children:s}),(0,O.jsxs)("p",{children:[a,i&&i.length?(0,O.jsx)("span",{className:"block",children:i.map((function(e,t){var r=e.link,n=e.number;return(0,O.jsx)("a",{href:r,target:"_blank",className:"mr-1 last:mr-0 underline",rel:"noreferrer",children:n},t)}))}):(0,O.jsx)(O.Fragment,{})]}),(0,O.jsx)("hr",{className:"my-10 md:my-0 col-start-1 col-end-3 md:col-end-5 border-gray last:hidden"})]},t)}))]})]})]},e)}))]})}var C=r(20158),E=r(30711),S=r(80318);function T(){var e="2022-01-28T03:30:00.000Z_2022-02-04T21:00:00.000Z";var t=e.split(" ").map((function(e){return e.split("_").map(_)})),r=(new Date).getTime();return t.some((function(e){var t=(0,S.Z)(e,2),n=t[0],s=t[1];return r>=n&&r<=n+(s-n)}))}function _(e){return new Date(e).getTime()}var D=r(72170),R=r(72349),F=r(93421),A=r(16935),B=function(e,t){return(B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function W(e){var t=e.className,r=e.counterClockwise,n=e.dashRatio,s=e.pathRadius,a=e.strokeWidth,i=e.style;return(0,x.createElement)("path",{className:t,style:Object.assign({},i,z({pathRadius:s,dashRatio:n,counterClockwise:r})),d:M({pathRadius:s,counterClockwise:r}),strokeWidth:a,fillOpacity:0})}function M(e){var t=e.pathRadius,r=e.counterClockwise?1:0;return"\n      M 50,50\n      m 0,-"+t+"\n      a "+t+","+t+" "+r+" 1 1 0,"+2*t+"\n      a "+t+","+t+" "+r+" 1 1 0,-"+2*t+"\n    "}function z(e){var t=e.counterClockwise,r=e.dashRatio,n=e.pathRadius,s=2*Math.PI*n,a=(1-r)*s;return{strokeDasharray:s+"px "+s+"px",strokeDashoffset:(t?-a:a)+"px"}}var L=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return function(e,t){function r(){this.constructor=e}B(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},t.prototype.getPathRadius=function(){return 50-this.props.strokeWidth/2-this.getBackgroundPadding()},t.prototype.getPathRatio=function(){var e=this.props,t=e.value,r=e.minValue,n=e.maxValue;return(Math.min(Math.max(t,r),n)-r)/(n-r)},t.prototype.render=function(){var e=this.props,t=e.circleRatio,r=e.className,n=e.classes,s=e.counterClockwise,a=e.styles,i=e.strokeWidth,l=e.text,o=this.getPathRadius(),c=this.getPathRatio();return(0,x.createElement)("svg",{className:n.root+" "+r,style:a.root,viewBox:"0 0 100 100","data-test-id":"CircularProgressbar"},this.props.background?(0,x.createElement)("circle",{className:n.background,style:a.background,cx:50,cy:50,r:50}):null,(0,x.createElement)(W,{className:n.trail,counterClockwise:s,dashRatio:t,pathRadius:o,strokeWidth:i,style:a.trail}),(0,x.createElement)(W,{className:n.path,counterClockwise:s,dashRatio:c*t,pathRadius:o,strokeWidth:i,style:a.path}),l?(0,x.createElement)("text",{className:n.text,style:a.text,x:50,y:50},l):null)},t.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},t}(x.Component);function I(e){var t=e.rotation,r=e.strokeLinecap,n=e.textColor,s=e.textSize,a=e.pathColor,i=e.pathTransition,l=e.pathTransitionDuration,o=e.trailColor,c=e.backgroundColor,d=null==t?void 0:"rotate("+t+"turn)",u=null==t?void 0:"center center";return{root:{},path:X({stroke:a,strokeLinecap:r,transform:d,transformOrigin:u,transition:i,transitionDuration:null==l?void 0:l+"s"}),trail:X({stroke:o,strokeLinecap:r,transform:d,transformOrigin:u}),text:X({fill:n,fontSize:s}),background:X({fill:c})}}function X(e){return Object.keys(e).forEach((function(t){null==e[t]&&delete e[t]})),e}r(31431);function q(e){var t=e.className;return(0,O.jsxs)("div",{className:"py-5 px-4 md:px-7 bg-white border border-gray  flex justify-between items-center rounded-lg lg:w-10/12 xl:w-9/12 ".concat(t),children:[(0,O.jsxs)("div",{className:"",children:[(0,O.jsx)("p",{className:"text-sm md:text-base font-bold",children:"Community Coffee Wallet"}),(0,O.jsx)("p",{className:"text-base flex items-center opacity-50",children:"Currently Funding Blend 004"}),(0,O.jsx)("p",{className:"opacity-50",children:"Last Updated: 15 Apr 2022"})]}),(0,O.jsx)("div",{className:"w-[75px] h-[75px] md:w-[100px] md:h-[100px] font-bold",children:(0,O.jsx)(L,{value:9,text:"".concat(9,"%"),styles:I({textSize:"32px",pathTransitionDuration:.5,pathColor:"#0F52FB",textColor:"#263440",trailColor:"#EEF0F3"})})})]})}function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Y(e){var t=e.ethAddress,r=e.blend,n=(0,x.useContext)(R.y),s=n.state,a=s.addresses,i=s.numOfTokensWithAddress,l=n.dispatch,c=(0,A.Z)(),f=c.errors,p=c.addError,h=c.removeError,g=b(t),j=g.numOfTokens,w=g.orders,v=g.fetch,N=g.loading,S=g.claimedTokens,_=g.error,B=(0,x.useCallback)((0,o.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:case"end":return e.stop()}}),e)}))),[v]),W=(0,x.useCallback)((function(e){l((0,F.y$)({quantity:e?Math.max(e,1):1,name:"",address:"",addressAdditionalInformation:"",state:"",country:"",zip:""}))}),[l]);return(0,x.useEffect)((function(){j>-1&&0===a.length&&S>-1&&W(j-S)}),[j,a,W,S,l]),(0,x.useEffect)((function(){i>j-S?p("highQuantity","You only have ".concat(j-S," bags to claim. Please decrease quantity.")):h("highQuantity")}),[i,j,S,h,p]),N?(0,O.jsx)(u.Z,{}):(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("div",{className:"flex flex-wrap flex-col-reverse md:flex-row justify-between mb-9",children:(0,O.jsxs)("div",{className:"md:flex-1",children:[(0,O.jsx)(m.Z,{}),(0,O.jsx)("div",{className:"lg:w-1/2",children:(0,O.jsx)(q,{className:"mb-8 md:mb-12"})}),(0,O.jsx)("h1",{className:"font-bold text-5xl md:text-7xl",children:"Current Rewards"})]})}),(0,O.jsx)("div",{className:"bg-white p-5 pb-10 md:pt-9 md:pb-16 md:px-10 rounded-lg mb-20",children:T()?(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("div",{className:"flex flex-wrap flex-col-reverse md:flex-row justify-between",children:[(0,O.jsxs)("div",{className:"md:w-3/5",children:[(0,O.jsxs)("p",{className:"uppercase text-teal font-bold",children:["Blend ",y(r)]}),(0,O.jsx)("h3",{className:"uppercase font-bold mb-3 text-lg",children:k.Z.coffeeTitle}),(0,O.jsx)(E.Z,{className:"mb-12 w-6/12"}),(0,O.jsx)("h3",{className:"font-medium text-3xl mb-2",children:(0,C.Z)(k.Z.bagsToClaim,{TOKENS:j-S})}),(0,O.jsx)("p",{children:k.Z.rewardsExplanation})]}),(0,O.jsx)(Z,{className:"w-full md:w-1/4 self-start mb-4 md:mb-0",width:250,height:300})]}),j-S>0?(0,O.jsxs)("div",{className:"mt-16",children:[(0,O.jsx)("hr",{className:"border-gray mb-14"}),(0,O.jsx)(D.Z,{blend:r,allowMultipleAddresses:!0,onAddAddress:function(){W(j-S-i)},errors:f,disabled:j-S-i<0,onSubmitted:B})]}):(0,O.jsx)(O.Fragment,{})]}):(0,O.jsx)(O.Fragment,{children:(0,O.jsxs)("div",{className:"flex flex-wrap flex-col-reverse md:flex-row justify-between",children:[(0,O.jsxs)("div",{className:"md:w-3/5",children:[(0,O.jsxs)("p",{className:"uppercase text-teal font-bold",children:["Blend ",y(r)]}),(0,O.jsx)("h3",{className:"uppercase font-bold mb-3 text-lg",children:k.Z.coffeeTitle}),(0,O.jsx)(E.Z,{className:"mb-12 w-6/12"}),(0,O.jsx)("h3",{className:"font-medium text-3xl mb-2",children:k.Z.claimingWindowClose.title}),(0,O.jsx)("p",{children:k.Z.rewardsExplanation})]}),(0,O.jsx)(Z,{className:"w-full md:w-1/4 self-start mb-4 md:mb-0",width:250,height:300})]})})}),(0,O.jsx)(P,{orders:w,error:_,claimedTokens:S})]})}function H(e){return(0,O.jsx)(R.X,{children:(0,O.jsx)(Y,V({},e))})}var J=r(23985),K=r(92197),U=r(14749);function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ee(){var e=(0,x.useState)(!1),t=e[0],r=e[1],n=(0,l.Nr)().user;return(0,x.useEffect)((function(){n&&r(!1)}),[n]),(0,O.jsxs)("div",{className:"bg-light z-10 footer-top-lg",children:[(0,O.jsx)(i.Z,{logoColors:{textColor:"blue",ypColor:"yellow"},navClasses:"text-white hover:text-primary",darkText:!0}),(0,O.jsx)(K.Z,{show:t,onClose:function(){r(!1)}}),(0,O.jsxs)("section",{className:"lg:container px-6 mx-auto py-16 md:px-10 lg:px-6 text-blue",children:[n?(0,O.jsx)(H,{ethAddress:n.attributes.ethAddress,blend:"3"}):(0,O.jsxs)("div",{className:"flex flex-wrap justify-between",children:[(0,O.jsxs)("div",{className:"lg:w-1/2",children:[(0,O.jsx)(q,{className:"mb-8 md:mb-12"}),(0,O.jsx)("h1",{className:"text-7xl md:text-11xl mb-5 md:mb-9 font-bold leading-none",dangerouslySetInnerHTML:k.Z.title}),(0,O.jsx)("p",{className:"mb-8",children:k.Z.text}),(0,O.jsx)("p",{className:"mb-10 md:mb-14 font-medium italic",children:k.Z.connectText}),(0,O.jsx)("div",{className:"flex justify-center md:block mb-5",children:(0,O.jsx)(a.Z,{onClick:function(){r(!0)},className:"mb-10 md:mb-0 text-white",children:k.Z.button})})]}),(0,O.jsxs)("div",{className:"relative bg-teal rounded-lg lg:w-5/12 pl-9 py-7 md:py-9",children:[(0,O.jsx)(s.default,{src:k.Z.image,width:512,height:550,alt:"coffee blend"}),(0,O.jsx)("p",{className:"absolute top-9 right-4 text-white font-bold",style:{writingMode:"vertical-lr"},children:"Next Reward"}),(0,O.jsxs)("p",{className:"font-bold text-white",children:["Blend ",y("3")]}),(0,O.jsx)("p",{className:"font-bold text-lg mb-2",children:k.Z.coffeeTitle}),(0,O.jsx)(E.Z,{})]})]}),(0,O.jsx)("div",{className:"z-10 mt-10 md:mt-20",style:{marginBottom:"-225px"},children:(0,O.jsx)(U.Z,G({},J.Z.emailForm))})]})]})}},20158:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(80318);function s(e,t){if(!e)return"";var r="string"===typeof e,s=r?e:e.__html,a=Object.entries(t).reduce((function(e,t){var r=(0,n.Z)(t,2),s=r[0],a=r[1],i=new RegExp("\\{{".concat(s,"\\}}"),"g");return e.replace(i,a)}),s);return r?a:{__html:a}}},73783:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/coffee-rewards",function(){return r(71951)}])},31431:function(){}},function(e){e.O(0,[237,941,700,948,712,197,170,774,888,179],(function(){return t=73783,e(e.s=t);var t}));var t=e.O();_N_E=t}]);